% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/viz.R
\name{plot_bootstrap_sops}
\alias{plot_bootstrap_sops}
\title{Plot Bootstrap Standardized State Occupancy Probabilities with Confidence Bands}
\usage{
plot_bootstrap_sops(
  bootstrap_data,
  time_var = "time",
  group_var = "tx",
  facet_var = NULL,
  conf_level = 0.95,
  title = NULL
)
}
\arguments{
\item{bootstrap_data}{A data frame from \code{bootstrap_standardized_sops()} containing
bootstrap samples with columns for time, treatment, state probabilities, and boot_id.}

\item{time_var}{Character string. Name of the time variable column (default: "time").}

\item{group_var}{Character string or NULL. Name of the grouping variable (default: "tx").
Typically treatment or other comparison variable. Set to NULL if no grouping.}

\item{facet_var}{Character string or NULL. Name of the variable to facet by (default: NULL).
Set to a variable name to create separate panels.}

\item{conf_level}{Numeric. Confidence level for intervals (default: 0.95).}

\item{title}{Character string. Plot title (default: auto-generated).}
}
\value{
A ggplot object showing standardized SOPs with confidence bands.
}
\description{
Creates a visualization showing standardized state occupancy probabilities
from bootstrap results with confidence intervals. Plots median probabilities
as lines with shaded confidence bands.
}
\details{
This function takes the output from \code{bootstrap_standardized_sops()} and creates
a publication-ready plot showing:
\itemize{
\item Median state occupancy probabilities over time (lines)
\item Confidence bands (shaded ribbons)
\item Optional grouping by linetype (e.g., treatment vs. control)
\item Optional faceting by another variable
}

The function automatically:
\enumerate{
\item Reshapes wide-format bootstrap data to long format
\item Computes median and quantile-based confidence intervals
\item Creates lines colored by state
\item Adds ribbons for confidence bands
\item Uses linetype to distinguish groups if \code{group_var} is specified
}
}
\examples{
\dontrun{
# After bootstrapping
bs_sops <- bootstrap_standardized_sops(
  model = m1,
  data = data,
  times = 1:30,
  n_boot = 100,
  ylevels = factor(1:6),
  absorb = "6"
)

# Basic plot with treatment grouping
plot_bootstrap_sops(bs_sops)

# Custom confidence level
plot_bootstrap_sops(bs_sops, conf_level = 0.90)

# With faceting by another variable
plot_bootstrap_sops(bs_sops, facet_var = "site")

# Without grouping
plot_bootstrap_sops(bs_sops, group_var = NULL)
}

}
